<?xml version="1.0" encoding="utf-8"?>
<!--
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->
<Module xmlns:os="http://ns.opensocial.org/2008/markup" >
  <ModulePrefs title="Friends need Hello also" description="This is the desc">
    <Require feature="opensocial-1.0"/>
    <Require feature="opensocial-templates"/>
  </ModulePrefs>
  <Content type="html" view="canvas">
    <script type="text/os-data">
     <os:ViewerRequest key='vwr' />
     <os:PeopleRequest key='friends' userId="@viewer" groupid="@friends" />
    </script>
    <script type="text/os-template">
     <h1>Hello world, ${vwr.displayName}</h1>
	 Your friends are:
 
	 <div>
	 <os:Repeat expression="${friends}">
	 <p>
	 Friend number ${Context.index} is: ${Cur.displayName}
	 <img src="${Cur.thumbnailUrl}" />
	 </p>	 
	 </os:Repeat>	 
	 </div>
 
  </script>
 </Content>
</Module>

